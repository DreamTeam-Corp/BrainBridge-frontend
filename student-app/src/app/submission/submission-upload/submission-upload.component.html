<mat-spinner *ngIf="isLoading"></mat-spinner>
<mat-list *ngIf="!isLoading && submission">
  <mat-card>
    <mat-list-item>
      Submission Name: {{ submission.submission_name }}
    </mat-list-item>
  </mat-card>
  <mat-card>
    <mat-list-item> Context: {{ submission.context }} </mat-list-item>
  </mat-card>
  <mat-card>
    <mat-list-item> Start Date: {{ submission.start_date }} </mat-list-item>
  </mat-card>
  <mat-card>
    <mat-list-item> Due Date: {{ submission.due_date }} </mat-list-item>
  </mat-card>
  <mat-card>
    <mat-list-item>
      Subject Name: {{ submission.classroom_name }}
    </mat-list-item>
  </mat-card>
  <mat-card *ngIf="!checkSubmit()">
    <mat-list-item>
      <form [formGroup]="form" (submit)="uploadSubmission()">
        <!-- <mat-form-field>
          <mat-label> Upload Pdf: </mat-label>
          <input type="file" formControlName="file" placeholder="Upload File" />
          <mat-error *ngIf="form.get('file').invalid">
            Please upload valid PDF.
          </mat-error>
        </mat-form-field> -->
        <div>
          <button mat-stroked-button type="button" (click)="filePicker.click()">
            Pick File
          </button>
          <input type="file" #filePicker (change)="onFilePicked($event)" />
        </div>
        <button mat-raised-button color="primary" type="submit">Upload</button>
      </form>
    </mat-list-item>
  </mat-card>
  <mat-card *ngIf="checkSubmit()">
    <mat-list-item>
      Your Upload:
      <table id="upload-data" border="1">
        <tr>
          <th>Name</th>
          <th>Enrollment No</th>
          <th>File</th>
          <th>Upload Time</th>
          <th>Action</th>
        </tr>
        <tr>
          <td>{{ ourData.name }}</td>
          <td>{{ ourData.enrollment_no }}</td>
          <td>
            <button mat-raised-button color="primary">
              <a [href]="ourData.file">Show</a>
            </button>
          </td>
          <td>{{ ourData.upload_time }}</td>
          <td>
            <button
              mat-raised-button
              color="warn"
              (click)="deleteSubmission(ourData)"
            >
              Delete
            </button>
          </td>
        </tr>
      </table>
    </mat-list-item>
  </mat-card>
</mat-list>
